"use strict";(self.webpackChunk_athenna_docs=self.webpackChunk_athenna_docs||[]).push([[134],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=o.createContext({}),s=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=s(e.components);return o.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(n),m=i,f=c["".concat(p,".").concat(m)]||c[m]||u[m]||r;return n?o.createElement(f,a(a({ref:t},d),{},{components:n})):o.createElement(f,a({ref:t},d))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:i,a[1]=l;for(var s=2;s<r;s++)a[s]=n[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1628:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=n(7462),i=(n(7294),n(3905));const r={title:"Compilation",sidebar_position:4,description:"Understand the TypeScript compilation process of Athenna."},a="Compilation",l={unversionedId:"the-basics/compilation",id:"the-basics/compilation",title:"Compilation",description:"Understand the TypeScript compilation process of Athenna.",source:"@site/docs/the-basics/compilation.mdx",sourceDirName:"the-basics",slug:"/the-basics/compilation",permalink:"/docs/the-basics/compilation",draft:!1,editUrl:"https://github.com/AthennaIO/Docs/tree/main/docs/the-basics/compilation.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Compilation",sidebar_position:4,description:"Understand the TypeScript compilation process of Athenna."},sidebar:"tutorialSidebar",previous:{title:"Helpers",permalink:"/docs/the-basics/helpers"},next:{title:"Deployment",permalink:"/docs/the-basics/deployment"}},p={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Compiling for development",id:"compiling-for-development",level:2},{value:"Compiling for production",id:"compiling-for-production",level:2},{value:"Points to keep in mind",id:"points-to-keep-in-mind",level:3}],d={toc:s},c="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"compilation"},"Compilation"),(0,i.kt)("p",null,"Understand the TypeScript compilation process of Athenna."),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"One of the main objectives of the framework is to offer\nexceptional assistance for TypeScript. This extends beyond\nthe benefits of static types and IntelliSense that enhance\nyour coding experience. Furthermore, we make certain that\nthere is no need for you to install extra build utilities\nfor code compilation, both during the development phase and\nfor production purposes."),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"This documentation assumes that you have basic knowledge\nabout TypeScript and the build tools available for it.")),(0,i.kt)("h2",{id:"compiling-for-development"},"Compiling for development"),(0,i.kt)("p",null,"If you are using ",(0,i.kt)("inlineCode",{parentName:"p"},"artisan")," to run your application,\nit will already compile the code for you in run time,\nthanks to the ",(0,i.kt)("inlineCode",{parentName:"p"},"ts-node/esm")," loader."),(0,i.kt)("p",null,"However, you may want to run a different TypeScript\nfile using ",(0,i.kt)("inlineCode",{parentName:"p"},"node"),"."),(0,i.kt)("p",null,"For Node.js v20.x or higher:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"node --import=@athenna/tsconfig index.ts\n")),(0,i.kt)("p",null,"For Node.js v19.x or lower:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"node --loader=ts-node/esm index.ts\n")),(0,i.kt)("h2",{id:"compiling-for-production"},"Compiling for production"),(0,i.kt)("p",null,"When you are ready to deploy your application to\nproduction, you can use the following command: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"node artisan build\n")),(0,i.kt)("p",null,"It performs the following operations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Clean the existing build directory (if any). The build\ndirectory that will he cleaned is defined inside the ",(0,i.kt)("inlineCode",{parentName:"li"},".athennarc.json"),"\nfile under the ",(0,i.kt)("inlineCode",{parentName:"li"},"commands.build.outDir")," property."),(0,i.kt)("li",{parentName:"ul"},"Type check and compile the code using ",(0,i.kt)("inlineCode",{parentName:"li"},"tsc"),". The tsconfig\nfile path that will be used is defined inside the\n",(0,i.kt)("inlineCode",{parentName:"li"},".athennarc.json")," file under the ",(0,i.kt)("inlineCode",{parentName:"li"},"commands.build.tsconfig"),"\nproperty."),(0,i.kt)("li",{parentName:"ul"},"Copy all the static files to the build folder. The\nstatic files are registered inside the ",(0,i.kt)("inlineCode",{parentName:"li"},".athennarc.json"),"\nfile under the ",(0,i.kt)("inlineCode",{parentName:"li"},"commands.build.include")," array. This property\nneeds to always be used to copy ",(0,i.kt)("inlineCode",{parentName:"li"},"package.json")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"package-lock.json"),".")),(0,i.kt)("h3",{id:"points-to-keep-in-mind"},"Points to keep in mind"),(0,i.kt)("p",null,"After building your code, the output folder becomes\nthe root of your JavaScript application, this means two things:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"You must ",(0,i.kt)("inlineCode",{parentName:"li"},"cd")," into the build folder and install production\nonly dependencies:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"cd build\nnpm ci --omit=dev\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"You must always ",(0,i.kt)("inlineCode",{parentName:"li"},"cd")," into the build folder and then\nrun your app:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"cd build\nnode bootstrap/main.js\n")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"We do not copy the ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file to the output folder\n(even if you add it to ",(0,i.kt)("inlineCode",{parentName:"p"},"commands.build.include")," array) to\nprevent issues for you. The environment variables are not\ntransferable, you must define environment variables for\nproduction separately.")))}u.isMDXComponent=!0}}]);