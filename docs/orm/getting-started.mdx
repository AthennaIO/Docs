---
sidebar_position: 1

id: getting-started
title: Getting Started
hide_title: true
hide_table_of_contents: true
tags:
- ORM
- Database
---

<nav aria-label="breadcrumbs">
    <ul class="breadcrumbs">
        <li class="breadcrumbs__item">
            <a class="breadcrumbs__link" href="/">üè†</a>
        </li>
        <li class="breadcrumbs__item">
            <a class="breadcrumbs__link">ORM</a>
        </li>
        <li class="breadcrumbs__item">
            <a class="breadcrumbs__link" href="/docs/orm/getting-started">Getting Started</a>
        </li>
    </ul>
</nav>

<span class="badge badge--secondary margin-top-bot">version 1.0.0</span>

# ORM: Getting Started

- #### [Introduction](#id-introduction)
- #### [Generating models](#id-generating-models)
- #### [Model conventions](#id-model-conventions)
    - #### [Table names](#id-table-names)
    - #### [Primary keys](#id-primary-keys)
    - #### [Schemas](#id-schemas)
    - #### [Database connections](#id-database-connections)

## Introduction {#id-introduction}

Athenna has an object-relational mapper (ORM) that makes it enjoyable to interact with your database. When using the Athenna ORM,
each database table has a corresponding "Model" that is used to interact with that table. In addition to retrieving records from
the database table, the models allow you to insert, update, and delete records from the table as well.

:::tip
Before getting started, be sure to configure a database connection in your application's `config/database.js` configuration file.
For more information on configuring your database, check out [`the database configuration documentation.`](/docs/database/getting-started#id-configuration)
:::

## Generating models {#id-generating-models}

To get started, let's create a model. Models typically live in the `app/Models` directory and extend the
[`Model`](https://github.com/AthennaIO/Database/blob/develop/src/Models/Model.js) class. You may use the `make:model` Artisan
command to generate a new model:

```shell
node artisan make:model Flight
```

## Model conventions {#id-model-conventions}

Models generated by the `make:model` command will be placed in the `app/Models` directory. Let's examine a basic model
class and discuss some of Model's key conventions:

```javascript
import { Model } from '@athenna/database'

export class Flight extends Model {

}
```

### Table names {#id-table-names}

After glancing at the example above, you may have noticed that we did not tell the model which database table corresponds to
our `Flight` model. By convention, the "snake_case", plural name of the class will be used as the table name unless another
name is explicitly specified. So, in this case, the model will assume the `Flight` model stores records in the `flights` table,
while an `AirTrafficController` model would store records in an `air_traffic_controllers` table.

If your model's corresponding database table does not fit this convention, you may manually specify the model's table name by
defining a static getter `table` on the model:

```javascript
import { Model } from '@athenna/database'

export class Flight extends Model {
  /**
   * Set the table name of this model instance.
   *
   * @return {string}
   */
  static get table() {
      return 'my_flights'
  }

  /*...*/
}
```

### Primary keys {#id-primary-keys}

The model will also assume that each model's corresponding database table has a primary key column named id. If necessary,
you may define a static getter `primaryKey` on your model to specify a different column that serves as your model's primary
key:

```javascript
import { Model } from '@athenna/database'

export class Flight extends Model {
  /**
   * Set the primary key of your model.
   *
   * @return {string}
   */
  static get primaryKey() {
      return 'id'
  }

  /*...*/
}
```

### Schemas {#id-schemas}

The schemas are very important for Athenna models to work as a "dictionary". When you define a value in your schema you need to
use the `Column` class to define all the options available in your database:

```javascript
import { Model, Column } from '@athenna/database'

export class Flight extends Model {
  /**
   * The default schema for model instances.
   *
   * @return {any}
   */
  static schema() {
    return {
      id: Column.autoIncrementedInt(),
      title: Column.string('flight_title'),
      createdAt: Column.createdAt(),
      updatedAt: Column.updatedAt(),
    }
  }
}
```

### UUID Keys {#id-uuid-keys}

Instead of using auto-incrementing integers as your model's primary keys, you may choose to use UUIDs instead. UUIDs are
universally unique alphanumeric identifiers that are 36 characters long.

If you would like a model to use a UUID key instead of an auto-incrementing integer key, you may use the `Column.autoIncrementedUuid`
method in your primary key (`id`). Athenna will automatically identify if you are using UUID's and generate a new uuid after
creating some record in your database:

```javascript
import { Model, Column } from '@athenna/database'

export class Article extends Model {
  /**
   * The default schema for model instances.
   *
   * @return {any}
   */
  static schema() {
    return {
      id: Column.autoIncrementedUuid(),
      title: Column.string('my_title'),
    }
  }
}

const article = await Article.create({ title: 'Traveling to Mozambique' })

console.log(article.id) // -> 84b7cdcf-9e97-4547-ae3a-ec652c08f5ac
```

### Database connections {#id-database-connections}

By default, all models will use the default database connection that is configured for your application. If you would like
to specify a different connection that should be used when interacting with a particular model, you should define a
static getter `connection` on the model:

```javascript
import { Model } from '@athenna/database'

export class Article extends Model {
  /**
   * Set the db connection that this model instance will work with.
   *
   * @return {string}
   */
  static get connection() {
      return 'mysql'
  }

  /*...*/
}
```
